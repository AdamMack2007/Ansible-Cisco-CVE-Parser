import json
import jinja2


def render_template(data):

    templateLoader = jinja2.FileSystemLoader(searchpath="./")
    templateEnv = jinja2.Environment(loader=templateLoader)
    template_file = "report.j2"
    template = templateEnv.get_template(template_file)
    # this is where to put args to the template renderer
    outputText = template.render(cve_data=data)
    return outputText


with open('cve_data.json') as file:
    data = json.load(file)
    report = render_template(data)

with open('report.html', 'w') as out_file:
    out_file.write(report)
